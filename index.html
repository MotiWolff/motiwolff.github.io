<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Moti Wolff - Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/fontawesome.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/solid.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/brands.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" media="print" onload="this.media='all'">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" 
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
        as="style"
        onload="this.onload=null;this.rel='stylesheet'"
    >
    <noscript>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" 
              rel="stylesheet">
    </noscript>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@300;400;700&family=Inter:wght@300;400;500;600&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@300;400;700&family=Inter:wght@300;400;500;600&display=swap" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'">
    <meta name="description" content="Moti Wolff - Computer Science Student and Web Developer Portfolio. View my projects and experience in web development.">
    <meta name="keywords" content="web development, computer science, portfolio, Moti Wolff, developer">
    <meta name="author" content="Moti Wolff">
    <link rel="icon" type="image/x-icon" href="/assets/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" href="/assets/favicon/apple-touch-icon.png">
    <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#0F172A">
    <meta property="og:title" content="Moti Wolff - Portfolio">
    <meta property="og:description" content="Computer Science Student and Web Developer Portfolio">
    <meta property="og:image" content="https://motiwolff.com/og-image.jpg">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://motiwolff.com">
    <meta name="twitter:card" content="summary_large_image">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-41Q6D33M3B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-41Q6D33M3B');
    </script>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script>
        // Immediately set dark theme
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
    <style>
        /* Add critical CSS here */
        :root {
            --bg-primary: #ffffff;
            --text-primary: #1a1a1a;
        }
        [data-theme="dark"] {
            --bg-primary: #0F172A;
            --text-primary: #ffffff;
        }
        body {
            margin: 0;
            background: var(--bg-primary);
            color: var(--text-primary);
        }
    </style>
    <!-- Defer non-critical CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/brands.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" media="print" onload="this.media='all'">
</head>
<body>
    <div class="container">
        <header class="main-header">
            <nav>
                <div class="logo">M.Wolff;</div>
                <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                    <i class="fas fa-bars" aria-hidden="true"></i>
                </button>
                <div class="nav-links">
                    <a href="#home" class="active">Home</a>
                    <a href="#about">About</a>
                    <a href="#experience">Experience</a>
                    <a href="#education">Education</a>
                    <a href="#projects">Projects</a>
                    <a href="#contact">Contact</a>
                </div>
                <button class="theme-toggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon" aria-hidden="true"></i>
                </button>
            </nav>
        </header>

        <main>
            <section id="home" class="section hero-section">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1 class="name">Moti Wolff</h1>
                        <h2 class="title">Computer Science Student & Developer</h2>
                        <p class="description">Building digital experiences with clean code and creative solutions.</p>
                        <div class="cta-buttons">
                            <a href="#contact" class="primary-button">Get in touch</a>
                            <a href="#projects" class="secondary-button">View Projects</a>
                        </div>
                        <div class="social-links">
                            <a href="https://github.com/MotiWolff" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile">
                                <i class="fab fa-github"></i>
                            </a>
                            <a href="https://x.com/MotiWolff" target="_blank" rel="noopener noreferrer" aria-label="Twitter Profile">
                                <i class="fab fa-twitter" aria-hidden="true"></i>
                            </a>
                            <a href="https://linkedin.com/in/mordechay-wolff-13b440180" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Profile">
                                <i class="fab fa-linkedin" aria-hidden="true"></i>
                            </a>
                        </div>
                    </div>
                    <div class="hero-image">
                        <picture class="profile-image-container">
                            <source
                                srcset="assets/images/me-400w.webp 400w, assets/images/me-800w.webp 800w"
                                sizes="(max-width: 480px) 200px, 400px"
                                type="image/webp"
                            >
                            <source
                                srcset="assets/images/me-400w.jpg 400w, assets/images/me-800w.jpg 800w"
                                sizes="(max-width: 480px) 200px, 400px"
                                type="image/jpeg"
                            >
                            <img
                                src="assets/images/me-400w.jpg"
                                alt="Moti Wolff"
                                class="profile-image"
                                loading="lazy"
                                decoding="async"
                                width="400"
                                height="400"
                            >
                        </picture>
                    </div>
                </div>
            </section>

            <section id="about" class="section about-content">
                <h2 class="about-title">About Me.</h2>
                <p class="about-text">
                    As a soldier in the IDF Tech Units, I'm developing my skills in the field of computer science through hands-on experience and continuous learning. I'm a self-motivated and efficient learner, always seeking new challenges and opportunities to expand my knowledge.
                </p>
                <div class="technologies">
                    <h3>Technologies I've worked with:</h3>
                    <div class="tech-icons">
                        <div class="tech-icon">
                            <i class="devicon-html5-plain"></i>
                            <span class="tech-name">HTML</span>
                        </div>
                        <div class="tech-icon">
                            <i class="devicon-css3-plain"></i>
                            <span class="tech-name">CSS</span>
                        </div>
                        <div class="tech-icon">
                            <i class="devicon-javascript-plain"></i>
                            <span class="tech-name">JavaScript</span>
                        </div>
                        <div class="tech-icon">
                            <i class="devicon-python-plain"></i>
                            <span class="tech-name">Python</span>
                        </div>
                        <div class="tech-icon">
                            <i class="devicon-c-plain"></i>
                            <span class="tech-name">C</span>
                        </div>
                        <div class="tech-icon">
                            <i class="devicon-mysql-plain"></i>
                            <span class="tech-name">SQL</span>
                        </div>
                        <div class="tech-icon">
                            <i class="devicon-angularjs-plain"></i>
                            <span class="tech-name">Angular</span>
                        </div>
                        <div class="tech-icon">
                            <i class="devicon-git-plain"></i>
                            <span class="tech-name">Git</span>
                        </div>
                    </div>
                
                </div>
                <a href="https://drive.google.com/file/d/18JTqJ5zWwUNHjTG0Lo11TbgB7d5SVsRl/view?usp=sharing" class="download-cv">Download CV <span>↓</span></a>
            </section>

            <section id="experience" class="section experience-content">
                <h2 class="experience-title">Experience.</h2>
                <div class="timeline">
                    <!-- IDF Experience -->
                    <div class="timeline-item">
                        <div class="date">March 2025 — Present</div>
                        <div class="role">Software Developer</div>
                        <div class="company">IDF Tech Units</div>
                        <div class="details">
                            <p>Recently enlisted to the IDF, Training commencement within the next few days.</p>
                            <ul class="experience-list">
                                <li>Working with cutting-edge technologies and modern development practices</li>
                                <li>Collaborating with cross-functional teams to deliver high-impact solutions</li>
                                <li>Developing skills in various programming languages and frameworks</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section id="education" class="section experience-content">
                <h2 class="experience-title">Education.</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="date">June 2023 — December 2024</div>
                        <div class="role">Introduction to Python</div>
                        <div class="company">Campus IL</div>
                        <div class="details">
                            <p>Learned the basics of Python and its applications in various fields.</p>
                            <p>Developed a Hangman Game and a Israeli ID number generator using Python.</p>
                            <div class="certificate-links">
                                <a href="https://courses.campus.gov.il/certificates/6ba894566c174661907293c4c6a0790a" target="_blank" rel="noopener noreferrer">
                                    <i class="fas fa-certificate" aria-hidden="true"></i>
                                    View Certificate 1
                                </a>
                                <a href="https://courses.campus.gov.il/certificates/cc354fe6f191431194c89f6787b1ebaa" target="_blank">
                                    <i class="fas fa-certificate"></i>
                                    View Certificate 2
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="date">August 2024 — November 2024</div>
                        <div class="role">Introduction to Computer Science</div>
                        <div class="company">CS50 by Harvard University</div>
                        <div class="details">
                            <p>Learned the basics of computer science and programming.</p>
                            <p>Equipped with the skills to build multiple projects using various programming languages.</p>
                            <div class="certificate-links">
                                <a href="https://cs50.harvard.edu/certificates/cbc65b16-4263-4910-ad51-3320129e8fa1" target="_blank">
                                    <i class="fas fa-certificate"></i>
                                    View Certificate
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="date">September 2024 — March 2025</div>
                        <div class="role">Math, Computer Science & Technical English</div>
                        <div class="company">KodCode Military Academy</div>
                        <div class="details">
                            <p>Completed a 960 hours course and gained vital skills in the Computer Science world.</p>
                            <p>Improved my skills in math as needed for the IDF Tech Units.</p>
                            <div class="certificate-links">
                                <a href="https://drive.google.com/file/d/1femkshiz0PAfo4JejyXWMPtnMv7_BJ6o/view?usp=sharing" target="_blank">
                                    <i class="fas fa-certificate"></i>
                                    View Certificate
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="date">December 2024 — Present</div>
                        <div class="role">Introduction to Cyber Security</div>
                        <div class="company">CS50 by Harvard University</div>
                        <div class="details">
                            <p>Learning the basics of cyber security and its applications.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="date">September 2024 — April 2025</div>
                        <div class="role">100 Days of Code: The Complete Python Pro Bootcamp by Dr. Angela Yu</div>
                        <div class="company">Udemy</div>
                        <div class="details">
                            <p>Learned Python from scratch to advanced level.</p>
                            <p>Build multiple projects to apply the knowledge gained.</p>
                            <div class="certificate-links">
                                <a href="https://www.udemy.com/certificate/UC-75c1c738-835e-49fa-90d9-0027861d910a/" target="_blank">
                                    <i class="fas fa-certificate"></i>
                                    View Certificate
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="date">January 2025 — Present</div>
                        <div class="role">Angular - The Complete Guide (2025 Edition) by Maximilian Schwarzmüller</div>
                        <div class="company">Udemy</div>
                        <div class="details">
                            <p>Learning Angular from scratch to advanced level.</p>
                            <p>Building multiple projects to apply the knowledge gained.</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="date">January 2025 — Present</div>
                        <div class="role">Ultimate C# Masterclass for 2025 by Krystyna Ślusarczyk</div>
                        <div class="company">Udemy</div>
                        <div class="details">
                            <p>Learning the complete C# course.</p>
                        </div>
                    </div>
                </div>
            </section>
            <section id="projects" class="section projects-content">
                <h2 class="projects-title">Key Projects.</h2>
                
                <div class="projects-list">
                    <div class="project-item">
                        <h3>Havlin Family Website</h3>
                        <div class="video-container">
                            <video 
                                autoplay 
                                loop 
                                muted 
                                playsinline 
                                preload="auto"
                                poster="assets/images/havlin-poster.webp"
                                style="width: 100%; height: auto;"
                            >
                                <source src="assets/havlin-demo.mp4" type="video/mp4">
                                <img src="assets/images/havlin-poster.webp" alt="Havlin Family Website Preview">
                            </video>
                            <p id="videoError" style="display: none; color: red;"></p>
                        </div>
                    
                        <script>
                            document.addEventListener('DOMContentLoaded', function() {
                                const element = document.querySelector('video');
                                if (element && element.previousElementSibling) {
                                    // Force load the video
                                    element.load();
                                    
                                    element.onerror = function() {
                                        console.log('Video error:', this.error);
                                        const errorElement = this.parentNode.querySelector('#videoError');
                                        if (errorElement) {
                                            errorElement.style.display = 'block';
                                            errorElement.textContent = 'Error loading video: ' + (this.error ? this.error.message : 'unknown error');
                                        }
                                    };
                                    
                                    element.onloadeddata = function() {
                                        console.log('Video loaded successfully');
                                    };
                                    
                                    // Event listener for when the video can play
                                    element.addEventListener('canplaythrough', function() {
                                        console.log('Video can play through');
                                        // Try playing the video
                                        this.play().catch(e => console.log('Autoplay prevented:', e));
                                    });
                                }
                            });
                        </script>
                    
                        <p class="project-description">
                            Developed a heritage-focused web application showcasing the Havlin family's Jewish legacy and Chabad activities using HTML, JavaScript and Netlify implementation for a modern, responsive design. The site features a dark theme with gold accents, implementing both Hebrew and English language support.
                        </p>
                        <div class="tech-stack">
                            <span>HTML</span>
                            <span>CSS</span>
                            <span>JavaScript</span>
                            <span>Git</span>
                            <span>Netlify</span>
                        </div>
                        <div class="project-links">
                            <a href="https://havlin-family.netlify.app/" class="project-link">Website</a>
                            <p class="project-link">|</p>
                            <a href="havlin-project.html" class="project-link">View More</a>
                        </div>
                    </div>

                    <div class="project-item">
                        <h3>This Website</h3>
                        <div class="project-image">
                            <img 
                                src="assets/images/this-website.webp"
                                alt="Portfolio Website Screenshot"
                                width="800"
                                height="450"
                                loading="lazy"
                                decoding="async"
                                onerror="this.onerror=null; console.error('Failed to load image:', this.src);"
                            >
                        </div>
                        <p class="project-description">
                            Built a modern, responsive portfolio website using vanilla HTML, CSS, and JavaScript. 
                            Implemented dark/light mode, smooth animations, and accessibility features. 
                            Focused on clean code and optimal performance.
                        </p>
                        <div class="tech-stack">
                            <span>HTML5</span>
                            <span>CSS3</span>
                            <span>JavaScript</span>
                        </div>
                        <div class="project-links">
                            <a href="https://github.com/MotiWolff/motiwolff.github.io" class="project-link">GitHub</a>
                        </div>
                    </div>

                    <div class="project-item">
                        <h3>Pregnancy Tracker</h3>
                        <div class="project-image">
                            <img 
                                src="assets/images/pregnancy.webp"
                                alt="Pregnancy Tracker App Screenshot"
                                width="800"
                                height="450"
                                loading="lazy"
                                decoding="async"
                            >
                        </div>
                        <p class="project-description">
                            Created a pregnancy journey tracker using Flask, SQL for backend and HTML, CSS, and JavaScript for the frontend.
                            The app allows users to track their pregnancy journey, including weight gain, doctor visits, and more.
                        </p>
                        <div class="tech-stack">
                            <span>Flask</span>
                            <span>SQL</span>
                            <span>HTML</span>
                            <span>CSS</span>
                            <span>JavaScript</span>
                        </div>
                        <div class="project-links">
                            <a href="https://github.com/MotiWolff/Pregnancy-Tracker" class="project-link">GitHub</a>
                            <span class="separator">|</span>
                            <a href="https://pregnancy-tracker.onrender.com/" class="project-link">Website</a>
                        </div>
                    </div>
                </div>
                <div class="view-all">
                    <a href="projects.html" class="btn">View All Projects →</a>
                </div>
            </section>
            <section id="contact" class="section contact-content">
                <h2 class="contact-title">Keep in touch.</h2>
                <p class="contact-subtitle">If you have any questions or just want to say hi, feel free to reach out to me.</p>
                
                <form class="contact-form" id="contactForm" action="https://formspree.io/f/mbljvrvd" method="POST">
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" name="name" required>
                        <i class="fas fa-user" aria-hidden="true"></i>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" required>
                        <i class="fas fa-envelope" aria-hidden="true"></i>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>
                    
                    <button type="submit" class="send-button">
                        Send Message
                    </button>
                </form>            
            </section>
            <footer>
                <div class="copyright">
                    Copyright © 2025 - Crafted by Moti Wolff
                </div>
            </footer>
        </main>
    </div>
    <script defer src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Navigation and section highlighting
            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav-links a');
    
            function updateActiveLink() {
                let currentSectionId = '';
                let minDistance = Infinity;
    
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    const distance = Math.abs(rect.top);
                    
                    if (distance < minDistance) {
                        minDistance = distance;
                        currentSectionId = section.id;
                    }
                });
    
                navLinks.forEach(link => {
                    const href = link.getAttribute('href').substring(1);
                    if (href === currentSectionId) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
            }
    
            window.addEventListener('scroll', () => {
                requestAnimationFrame(updateActiveLink);
            });
            updateActiveLink();
    
            // Smooth scrolling
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href');
                    document.querySelector(targetId).scrollIntoView({
                        behavior: 'smooth'
                    });
                    document.querySelector('.nav-links').classList.remove('active');
                });
            });
    
            // Contact form submission
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const form = e.target;
                    const submitButton = form.querySelector('button[type="submit"]');
                    const formData = new FormData(form);
                    
                    const email = formData.get('email');
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(email)) {
                        alert('Please enter a valid email address');
                        return;
                    }
                    
                    try {
                        submitButton.textContent = 'Sending...';
                        submitButton.disabled = true;
                        
                        const response = await fetch(form.action, {
                            method: 'POST',
                            body: formData,
                            headers: {
                                'Accept': 'application/json'
                            }
                        });
                        
                        if (response.ok) {
                            form.reset();
                            const notification = document.createElement('div');
                            notification.className = 'success-message';
                            notification.textContent = 'Message sent successfully!';
                            form.appendChild(notification);
                            setTimeout(() => notification.remove(), 5000);
                        } else {
                            throw new Error('Failed to send message');
                        }
                    } catch (error) {
                        const errorMessage = document.createElement('div');
                        errorMessage.className = 'error-message';
                        errorMessage.textContent = 'Error sending message. Please try again.';
                        form.appendChild(errorMessage);
                        setTimeout(() => errorMessage.remove(), 5000);
                        console.error('Error:', error);
                    } finally {
                        submitButton.textContent = 'Send';
                        submitButton.disabled = false;
                    }
                });
            }
    
            // Image error handling - fallback from WebP to JPG
            const profileImage = document.querySelector('.profile-image');
            if (profileImage) {
                profileImage.onerror = function() {
                    if (this.src.endsWith('me.webp')) {
                        console.log('WebP failed, trying JPG fallback');
                        this.src = '/assets/images/me.JPG';
                    } else if (this.src.endsWith('me.JPG')) {
                        console.log('JPG also failed, using placeholder');
                        this.src = '/assets/images/placeholder.png';
                    }
                    this.onerror = null; // Prevent infinite loop
                };
            }
    
            // Video error handling and fallbacks
            const videos = document.querySelectorAll('video');
            videos.forEach(video => {
                // Force load video on page load
                video.load();
                
                const sources = video.querySelectorAll('source');
                sources.forEach((source, index) => {
                    source.addEventListener('error', function(e) {
                        if (index === 0) {
                            // Silently try the next source
                            if (sources[1]) {
                                return; // Let the video element try the next source automatically
                            }
                        }
                        
                        // Only log if all sources fail
                        if (index === sources.length - 1) {
                            console.log('All video sources failed, showing poster');
                            video.controls = false;
                            if (!video.hasAttribute('poster')) {
                                video.poster = 'assets/images/havlin-poster.webp';
                            }
                        }
                    });
                });

                // Add success handler
                video.addEventListener('canplaythrough', function() {
                    // Video loaded successfully, no need to log unless debugging
                    this.play().catch(e => {
                        // Only log autoplay failures if they're not user interaction related
                        if (!e.message.includes('user')) {
                            console.error('Autoplay error:', e);
                        }
                    });
                });
            });
    
            // Theme toggling
            const themeToggle = document.querySelector('.theme-toggle');
            if (themeToggle) {
                const icon = themeToggle.querySelector('i');
                
                const savedTheme = localStorage.getItem('theme') || 'dark';
                document.documentElement.setAttribute('data-theme', savedTheme);
                icon.className = savedTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
    
                themeToggle.addEventListener('click', () => {
                    const currentTheme = document.documentElement.getAttribute('data-theme');
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    
                    document.documentElement.setAttribute('data-theme', newTheme);
                    localStorage.setItem('theme', newTheme);
                    icon.className = newTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                });
            }
        });
    
        // General image error handling
        window.addEventListener('error', function(e) {
            if (e.target.tagName === 'IMG') {
                console.error('Image loading error:', e.target.src);
                
                // Handle protocol issues (http vs https)
                if (e.target.src.includes('://')) {
                    const newSrc = e.target.src.replace(/^https?:/, window.location.protocol);
                    console.log('Fixing protocol, new src:', newSrc);
                    e.target.src = newSrc;
                } else if (e.target.src.includes('.webp')) {
                    // For WebP images, try JPG fallback
                    const newSrc = e.target.src.replace('.webp', '.JPG');
                    console.log('Trying JPG fallback:', newSrc);
                    e.target.src = newSrc;
                }
            }
        }, true);
    
        // Mobile menu toggle
        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const navLinks = document.querySelector('.nav-links');
        
        if (mobileMenuToggle && navLinks) {
            mobileMenuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
            });
        }
    
        // Service worker registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registered:', registration.scope);
                    })
                    .catch(error => {
                        console.error('ServiceWorker registration failed:', error);
                    });
            });
        }
    
        // Set theme immediately (before DOM is fully loaded)
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
</body>
</html>
